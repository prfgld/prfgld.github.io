<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" dir="ltr">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Proofgold Core 0.2.8rc2 - Proofgold Forum</title>
<meta name="description" content="yet another little forum" />
<meta name="referrer" content="origin" />
<meta name="referrer" content="same-origin" />
<meta name="generator" content="my little forum 2.4.21" />
<link rel="stylesheet" type="text/css" href="https://proofgold.org/forum/themes/default/style.min.css" media="all" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="index.php?mode=rss" /><link rel="top" href="./" />
<link rel="first" href="201.html" />
<link rel="prev" href="205.html" />
<link rel="last" href="207.html" />
<link rel="search" href="index.php?mode=search" />
<link rel="shortcut icon" href="https://proofgold.org/forum/themes/default/images/favicon.ico" />
<link rel="canonical" href="https://proofgold.org/forum/index.php?mode=thread&amp;id=201" /><script src="https://proofgold.org/forum/index.php?mode=js_defaults&amp;t=" type="text/javascript" charset="utf-8"></script>
<script src="https://proofgold.org/forum/js/main.min.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>
<!--[if IE]><div id="ie"><![endif]-->

<div id="top">

<div id="logo">
<h1><a href="./" title="Forum index page">Proofgold Forum</a></h1>
</div>

<div id="nav">
<ul id="usermenu">
<li><a href="index.php?mode=login" title="Log in">Log in</a></li></ul>
<form id="topsearch" action="index.php" method="get" title="Search messages" accept-charset="utf-8"><div><input type="hidden" name="mode" value="search" /><label for="search-input">Search:</label>&nbsp;<input id="search-input" type="text" name="search" value="Search..." /><!--&nbsp;<input type="image" src="templates//images/submit.png" alt="[&raquo;]" />--></div></form></div>
</div>

<div id="subnav">
<div id="subnav-1"><a class="stronglink" href="index.php?mode=index" title="Forum index page">Back to the forum index</a>
</div>
<div id="subnav-2"><ul id="subnavmenu"><li><a class="openthread" href="index.php?mode=thread&amp;id=201#p206" title="Show this posting in the complete thread">Open in thread</a></li></ul>
</div>
</div>

<div id="content">

<div class="posting"><h1>Proofgold Core 0.2.8rc2</h1>
<p class="author">by <strong><span class="registered_user">Brown</span></strong><span class="interpunction">, </span>Monday, November 15, 2021, 11:31 <span class="ago">(20 days ago)</span> <span class="op-link"><a href="205.html" title="click to go to the original posting by BlakeKeiller">@ BlakeKeiller</a></span></p>
<p>Regarding the database code, someone recently compared the Dbbasic implementation in Proofgold to using the OCaml DBM bindings. I'll pass on the results:</p>
<p>Writing 10000 entries:<br />
  Dbbasic: 208 seconds<br />
  DBM: 0.02 seconds</p>
<p>Reading 10000 entries:<br />
  Dbbasic: 0.821 seconds<br />
  DBM: 0.02 seconds</p>
<p>This is obviously a part of the code that really should be improved. Maybe the OCaml DBM bindings could be used directly. I haven't looked into this yet, but if I do I'll post more.</p>
<p>One other small thing:</p>
<p>The function disconnect_completely in net.ml iterates over netconns to close the sockets and then sets netconns to empty. I think it makes more sense to save the value of netconns in a temporary variable, then set netconns to empty and finally iterate over the old value to close the sockets. I suspect sometimes disconnect_completely has a problem closing the sockets and ends up with netconns set to phantom connections that are actually closed. In that case the node would believe it is connected although it isn't.</p>

</div>
<div class="posting-footer">
<div class="reply"><a class="stronglink" href="index.php?mode=posting&amp;id=206&amp;back=entry" title="Reply to this message">Post reply</a></div>
<div class="info">
<span class="views">44 views</span></div>
</div>

<hr class="entryline" />
<div class="complete-thread">
<p class="left"><strong>Complete thread:</strong></p><p class="right">&nbsp;<a class="rss" href="index.php?mode=rss&amp;thread=201" title="RSS Feed of this thread">RSS Feed of thread</a></p>
</div>

<ul class="thread openthread">


<li><a class="thread" href="201.html">Proofgold Core 0.2.8rc1</a> - 

<strong class="registered_user">BlakeKeiller</strong>, 

<span id="p201" class="tail">2021-11-09, 08:51 <a href="index.php?mode=thread&amp;id=201" title="Open whole thread"><img src="themes/default/images/complete_thread.png" title="Open whole thread" alt="[*]" width="11" height="11" /></a></span>
<ul class="reply">
<li><a class="reply" href="203.html">Proofgold Core 0.2.8rc1</a> - 

<strong class="registered_user">Brown</strong>, 

<span id="p203" class="tail">2021-11-09, 20:03</span>
<ul class="reply">
<li><a class="reply" href="204.html">Proofgold Core 0.2.8rc1</a> - 

<strong class="registered_user">Brown</strong>, 

<span id="p204" class="tail">2021-11-11, 09:18</span>
<ul class="reply">
<li><a class="reply" href="205.html">Proofgold Core 0.2.8rc2</a> - 

<strong class="registered_user">BlakeKeiller</strong>, 

<span id="p205" class="tail">2021-11-13, 14:50</span>
<ul class="reply">
<li><span class="currentreply">Proofgold Core 0.2.8rc2</span> - 

<strong class="registered_user">Brown</strong>, 

<span id="p206" class="tail">2021-11-15, 11:31</span>
</li>
</ul></li>
</ul></li>
</ul></li>

<li><a class="reply" href="207.html">Proofgold Core 0.2.8rc1</a> - 

<strong class="registered_user">Brown</strong>, 

<span id="p207" class="tail">2021-11-16, 12:09</span>
</li>
</ul></li>

</ul>
</div>

<div id="footer">
<div id="footer-1">203 Postings in 83 Threads, 6 registered users, 6 users online (0 registered, 6 guests)<br />
Forum time: 2021-12-05, 11:30 (UTC)</div>
<div id="footer-2">
<ul id="footermenu">
<li><a class="rss" href="index.php?mode=rss" title="RSS Feed of all new postings">RSS Postings</a> &nbsp;<a class="rss" href="index.php?mode=rss&amp;items=thread_starts" title="RSS Feed of thread starting postings only">RSS Threads</a></li><li><a href="index.php?mode=contact" title="E-mail to the forum administrator" rel="nofollow">Contact</a></li>
</ul></div>
</div>

<div id="pbmlf"><a href="https://mylittleforum.net/">powered by my little forum</a></div>

<!--[if IE]></div><![endif]-->

</body>
</html>
